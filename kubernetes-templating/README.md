
###install nginx-ingress
helm3 repo add stable https://kubernetes-charts.storage.googleapis.com
helm3 repo  list
kubectl create ns nginx-ingress
helm3 upgrade --install nginx-ingress stable/nginx-ingress --wait  --namespace=nginx-ingress--version=1.11.1

####install cert-manager
kubectl apply -f https://raw.githubusercontent.com/jetstack/cert-manager/release- 0.9/deploy/manifests/00-crds.yaml
kubectl create ns cert-manager
kubectl label namespace cert-manager certmanager.k8s.io/disable-validation="true"
helm upgrade --install cert-manager jetstack/cert-manager --wait  --namespace=cert-manager --version=0.9.0

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –¥–æ–º–∞—à–Ω–∏–º –∑–∞–¥–∞–Ω–∏–µ–º –≤–∞–º
–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
1. –õ—é–±—ã–º —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º (—á–µ—Ä–µ–∑ web console, —á–µ—Ä–µ–∑ gcloud, —Å
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º terraform) —Å–æ–∑–¥–∞—Ç—å managed kubernetes –∫–ª–∞—Å—Ç–µ—Ä –≤
–æ–±–ª–∞–∫–µ GCP
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å kubectl –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:

gcloud beta container clusters get-credentials ...

‚ùó –í –¥–∞–Ω–Ω–æ–π –¥–æ–º–∞—à–Ω–µ–π —Ä–∞–±–æ—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞ –Ω–µ
–∏–º–µ–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

2 . 7

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≥–æ—Ç–æ–≤—ã–µ Helm charts

–ü–æ–ø—Ä–æ–±—É–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Helm charts —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º. –°
–∏—Ö –ø–æ–º–æ—â—å—é —Å–æ–∑–¥–∞–¥–∏–º –∏ –Ω–∞—Å—Ç—Ä–æ–∏–º –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã,
–Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞—à–µ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞.
–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Helm 3

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 1

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≥–æ—Ç–æ–≤—ã–µ Helm charts

–°–µ–≥–æ–¥–Ω—è –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏:

- —Å–µ—Ä–≤–∏—Å, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –¥–æ—Å—Ç—É–ø –∫ –ø—É–±–ª–∏—á–Ω—ã–º

—Ä–µ—Å—É—Ä—Å–∞–º –∫–ª–∞—Å—Ç–µ—Ä–∞

- —Å–µ—Ä–≤–∏—Å, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å

Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è ingress —Ä–µ—Å—É—Ä—Å–æ–≤

- —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è

helm charts

- —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è (Docker

Registry), –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–µ–µ helm charts
###nginx-ingress
helm3 install nginx-ingress stable/nginx-ingress

###cert-manager
kubectl apply --validate=false -f https://github.com/jetstack/cert-manager/releases/download/v0.15.1/cert-manager-legacy.crds.yaml
helm3 repo add jetstack https://charts.jetstack.io
helm3 install cert-manager --namespace cert-manager jetstack/cert-manager

###chartmuseum
helm3 install my-chartmuseum -f custom.yaml stable/chartmuseum

###harbor
helm3 repo add harbor https://helm.goharbor.io
helm3 install harbor harbor/harbor


–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 2

–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Helm 3 –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é
–º–∞—à–∏–Ω—É.
–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø–æ
–°–∫–∞—á–∞–π—Ç–µ binary —Ñ–∞–π–ª –¥–ª—è –≤–∞—à–µ–π OS –∏
–ø–æ–º–µ—Å—Ç–∏—Ç–µ –µ–≥–æ –≤ $PATH
–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ - –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã:

–û–∂–∏–¥–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π –≤—ã–≤–æ–¥:

—Å—Å—ã–ª–∫–µ

–ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã–π

helm version

version.BuildInfo{Version:"v3.0.2",
GitCommit:"19e47ee3283ae98139d98460de796c1be1e3975f", GitTreeState:"clean",
GoVersion:"go1.13.5"}

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 3

–ü–∞–º—è—Ç–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Helm

–°–æ–∑–¥–∞–Ω–∏–µ release:

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ release:

–°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ release:
$ helm install <chart_name> --name=<release_name> --namespace=<namespace>
$ kubectl get secrets -n <namespace> | grep <release_name>
sh.helm.release.v1.<release_name>.v1 helm.sh/release.v1 1 115m

$ helm upgrade <release_name> <chart_name> --namespace=<namespace>
$ kubectl get secrets -n <namespace> | grep <release_name>
sh.helm.release.v1.<release_name>.v1 helm.sh/release.v1 1 115m
sh.helm.release.v1.<release_name>.v2 helm.sh/release.v1 1 56m

$ helm upgrade --install <release_name> <chart_name> --namespace=<namespace>
$ kubectl get secrets -n <namespace> | grep <release_name>
sh.helm.release.v1.<release_name>.v1 helm.sh/release.v1 1 115m
sh.helm.release.v1.<release_name>.v2 helm.sh/release.v1 1 56m
sh.helm.release.v1.<release_name>.v3 helm.sh/release.v1 1 5s

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 4

Add helm repo

–î–æ–±–∞–≤—å—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π stable
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ Helm 3 –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π stable

helm repo add stable https://kubernetes-charts.storage.googleapis.com

helm repo list
NAME URL
stable https://kubernetes-charts.storage.googleapis.com

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 5

nginx-ingress

–°–æ–∑–¥–∞–¥–∏–º namespace –∏ release nginx-ingress

–†–∞–∑–±–µ—Ä–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–ª—é—á–∏:
--wait - –æ–∂–∏–¥–∞—Ç—å —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ ( )
--timeout - —Å—á–∏—Ç–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –Ω–µ—É—Å–ø–µ—à–Ω–æ–π –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏
—É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
--namespace - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å chart –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π namespace (–µ—Å–ª–∏
–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å)
--version - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é chart
kubectl create ns nginx-ingress
helm upgrade --install nginx-ingress stable/nginx-ingress --wait \
--namespace=nginx-ingress \
--version=1.11.1

–ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 6

cert-manager

–î–æ–±–∞–≤–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ö—Ä–∞–Ω–∏—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–π helm
chart cert-manager:

–¢–∞–∫–∂–µ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ cert-manager –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è
—Å–æ–∑–¥–∞—Ç—å –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ CRD ( –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ
—É—Å—Ç–∞–Ω–æ–≤–∫–µ):

–ï—â–µ –æ–¥–Ω–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞, –æ–ø–∏—Å–∞–Ω–Ω–∞—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
helm repo add jetstack https://charts.jetstack.io

—Å—Å—ã–ª–∫–∞

kubectl apply -f https://raw.githubusercontent.com/jetstack/cert-manager/release-
0.9/deploy/manifests/00-crds.yaml

kubectl label namespace cert-manager certmanager.k8s.io/disable-validation="true"

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 7

cert-manager

–£—Å—Ç–∞–Ω–æ–≤–∏–º cert-manager:

helm upgrade --install cert-manager jetstack/cert-manager --wait \
--namespace=cert-manager \
--version=0.9.0

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 8

cert-manager

–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ

–ò–∑—É—á–∏—Ç–µ cert-manager, –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, —á—Ç–æ –µ—â–µ
—Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã
–ü–æ–º–µ—Å—Ç–∏—Ç–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –≤
–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é kubernetes-templating/cert-manager/
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É cert-manager –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –Ω–∞
–ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö helm chart
–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 9

chartmuseum

–ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É chartmuseum
–°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é kubernetes-templating/chartmuseum/ –∏
–ø–æ–º–µ—Å—Ç–∏—Ç–µ —Ç—É–¥–∞ —Ñ–∞–π–ª values.yaml
–ò–∑—É—á–∏—Ç–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ values.yaml
–í–∫–ª—é—á–∏—Ç–µ:

–°–æ–∑–¥–∞–Ω–∏–µ ingress —Ä–µ—Å—É—Ä—Å–∞ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º hosts.name (–¥–æ–ª–∂–µ–Ω
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è nginx-ingress)
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

https://github.com/helm/charts/tree/master/stable/chartmuseum

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 10

chartmuseum

–§–∞–π–ª values.yaml –¥–ª—è chartmuseum –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ
—Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

ingress:
enabled: true
annotations:
kubernetes.io/ingress.class: nginx
kubernetes.io/tls-acme: "true"
certmanager.k8s.io/cluster-issuer: "letsencrypt-production"
certmanager.k8s.io/acme-challenge-type: http01
hosts:
- name: chartmuseum.example.com
path: /
tls: true
tlsSecret: chartmuseum.example.com

–í–º–µ—Å—Ç–æ example.com —É–∫–∞–∂–∏—Ç–µ EXTERNAL-IP —Å–µ—Ä–≤–∏—Å–∞ –≤–∞—à–µ–≥–æ
nginx-ingress –≤ —Ñ–æ—Ä–º–∞—Ç–µ <IP-–∞–¥—Ä–µ—Å.nip.io>, –Ω–∞–ø—Ä–∏–º–µ—Ä
1.1.1.1.nip.io

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 11

chartmuseum

–£—Å—Ç–∞–Ω–æ–≤–∏–º chartmuseum:

–ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ release chartmuseum —É—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è:
kubectl create ns chartmuseum
helm upgrade --install chartmuseum stable/chartmuseum --wait \
--namespace=chartmuseum \
--version=2.3.2 \
-f kubernetes-templating/chartmuseum/values.yaml

helm ls -n chartmuseum

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 12

chartmuseum

helm 2 —Ö—Ä–∞–Ω–∏–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–ª–∏–∑–µ –≤ configMap'–∞—Ö (kubectl
get configmaps -n kube-system).
–ê Helm 3 —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ secrets (kubectl get secrets -
n chartmuseum).

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 13

chartmuseum

–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

Chartmuseum –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ URL https://chartmuseum.
<IP>.nip.io
–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ URL –≤–∞–ª–∏–¥–µ–Ω

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 14

chartmuseum | –ó–∞–¥–∞–Ω–∏–µ —Å–æ ‚≠ê

–ù–∞—É—á–∏—Ç–µ—Å—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å chartmuseum
–û–ø–∏—à–∏—Ç–µ –≤ PR –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è
–¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—É–¥–∞ helm chart's –∏ –∏—Ö —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
chartmuseum –∫–∞–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 15

harbor

–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ harbor –≤ –∫–ª–∞—Å—Ç–µ—Ä —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º helm3
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
–∏ CHART VERSION 1.1.2
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω ingress –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω host harbor.<IP-
–∞–¥—Ä–µ—Å>.nip.io

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω TLS –∏ –≤—ã–ø–∏—Å–∞–Ω –≤–∞–ª–∏–¥–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Ñ–∞–π–ª values.yaml –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
kubernetes-templating/harbor/

https://github.com/goharbor/harbor-helm

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 16

harbor

Tips & Tricks

–§–æ—Ä–º–∞—Ç –æ–ø–∏—Å–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª–µ values.yaml –¥–ª—è
chartmuseum –∏ harbor –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è
Helm3 –Ω–µ —Å–æ–∑–¥–∞–µ—Ç namespace –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω release
–ü—Ä–æ—â–µ –≤—ã–∫–ª—é—á–∏—Ç—å —Å–µ—Ä–≤–∏—Å notary, –æ–Ω –Ω–∞–º –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è
–†–µ–∫–≤–∏–∑–∏—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - admin/Harbor12345
nip.io –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –∑–∞–±–∞–Ω–µ–Ω –≤ cert-manager. –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å
—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–æ–º–µ–Ω - –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ, –ª–∏–±–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å
xip.io, –ª–∏–±–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ staging ClusterIssuer
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫ helm3 —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ release:
kubectl get secrets -n harbor -l owner=helm

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 17

harbor

–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

Harbor –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
–ü—Ä–µ–¥—ä—è–≤–ª–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 18

–ò—Å–ø–æ–ª—å–∑—É–µ–º helmfile | –ó–∞–¥–∞–Ω–∏–µ —Å–æ ‚≠ê
–û–ø–∏—à–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É nginx-ingress, cert-manager –∏ harbor –≤
helmfile
–ü—Ä–∏–ª–æ–∂–∏—Ç–µ –ø–æ–ª—É—á–∏–≤—à–∏–π—Å—è helmfile.yaml –∏ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã (–ø—Ä–∏
–∏—Ö –Ω–∞–ª–∏—á–∏–∏) –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é kubernetes-templating/helmfile

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3 . 19

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 1

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart

–¢–∏–ø–∏—á–Ω–∞—è –∂–∏–∑–Ω–µ–Ω–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:
–£ –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≥–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É –≤ Kubernetes
–£ –≤–∞—Å –µ—Å—Ç—å –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–æ –≤–∞–º –Ω–∞–¥–æ
–∑–∞–ø—É—Å–∫–∞—Ç—å –µ–≥–æ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
–í–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è:
–ù–∞–ø–∏—Å–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "–∫–æ—Å—Ç—ã–ª–∏" - sed, envsubst, etc...
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏ (helm,
etc...)

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 2

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart
–ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ç—Ä–µ—Ç–∏–π –≤–∞—Ä–∏–∞–Ω—Ç. –í–æ–∑—å–º–µ–º –≥–æ—Ç–æ–≤—ã–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –∏
–ø–æ–¥–≥–æ—Ç–æ–≤–∏–º –∏—Ö –∫ —Ä–µ–ª–∏–∑—É –Ω–∞ —Ä–∞–∑–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±—É–¥–µ–º –¥–µ–º–æ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ,
–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ —Å–æ–±–æ–π —Ç–∏–ø–∏—á–Ω—ã–π –Ω–∞–±–æ—Ä –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤.
–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ helm –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –±—É–¥—É—â–µ–≥–æ helm chart

hipster-shop

helm create kubernetes-templating/hipster-shop

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 3

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart

–ò–∑—É—á–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ —Ñ–∞–π–ª values.yaml –∏
—à–∞–±–ª–æ–Ω—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ templates, –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç
—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π helm chart.
–ú—ã –±—É–¥–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å chart –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –Ω—É–ª—è, –ø–æ—ç—Ç–æ–º—É
—É–¥–∞–ª–∏—Ç–µ values.yaml –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ templates.
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ all-hipster-shop.yaml –≤
–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é templates.

—Ñ–∞–π–ª

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 4

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart

–í —Ü–µ–ª–æ–º, helm chart —É–∂–µ –≥–æ—Ç–æ–≤, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å
—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ:

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∑–∞–π—Ç–∏ –≤ UI –∏—Å–ø–æ–ª—å–∑—É—è —Å–µ—Ä–≤–∏—Å —Ç–∏–ø–∞ NodePort
(—Å–æ–∑–¥–∞–µ—Ç—Å—è –∏–∑ –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤) –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
–∑–∞—Ä–∞–±–æ—Ç–∞–ª–æ.
kubectl create ns hipster-shop
helm upgrade --install hipster-shop kubernetes-templating/hipster-shop --namespace
hipster-shop

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 5

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart
–°–µ–π—á–∞—Å –Ω–∞—à helm chart hipster-shop —Å–æ–≤—Å–µ–º –Ω–µ –ø–æ—Ö–æ–∂ –Ω–∞
–Ω–∞—Å—Ç–æ—è—â–∏–π. –ü—Ä–∏ —ç—Ç–æ–º, –≤—Å–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∏–∑
–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ all-hipster-shop.yaml
–î–∞–≤–∞–π—Ç–µ –∏—Å–ø—Ä–∞–≤–∏–º —ç—Ç–æ –∏ –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –∑–∞–π–º–µ–º—Å—è
–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–º frontend. –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –æ–Ω —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
–æ—Ç–¥–µ–ª—å–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π, –∞ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º
—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
–ü–æ—ç—Ç–æ–º—É, –±—ã–ª–æ –±—ã –ª–æ–≥–∏—á–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤—Å–µ —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å frontend –≤
–æ—Ç–¥–µ–ª—å–Ω—ã–π helm chart.
–°–æ–∑–¥–∞–¥–∏–º –∑–∞–≥–æ—Ç–æ–≤–∫—É:

helm create kubernetes-templating/frontend

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 6

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —á–∞—Ä—Ç—É hipster-shop —É–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª values.yaml –∏
—Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ templates, —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
–í—ã–¥–µ–ª–∏–º –∏–∑ —Ñ–∞–π–ª–∞ all-hipster-shop.yaml –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –¥–ª—è
—É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ frontend.
–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ templates —á–∞—Ä—Ç–∞ frontend —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã:
deployment.yaml - –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —á–∞—Å—Ç—å –∏–∑
—Ñ–∞–π–ª–∞ all-hipster-shop.yaml
service.yaml - –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —á–∞—Å—Ç—å –∏–∑ —Ñ–∞–π–ª–∞
all-hipster-shop.yaml
ingress.yaml - –¥–æ–ª–∂–µ–Ω —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å ingress —Å –¥–æ–º–µ–Ω–Ω—ã–º –∏–º–µ–Ω–µ–º
shop.<IP-–∞–¥—Ä–µ—Å>.nip.io

–ú–∞–Ω–∏—Ñ–µ—Å—Ç –¥–ª—è ingress –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ
–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 7

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã–Ω–µ—Å–µ—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ deployment –∏ service –¥–ª—è
frontend –∏–∑ —Ñ–∞–π–ª–∞ all-hipster-shop.yaml –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ chart
hipster-shop –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–æ—Å—Ç—É–ø –∫ UI –ø—Ä–æ–ø–∞–ª –∏ —Ç–∞–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
–±–æ–ª—å—à–µ –Ω–µ—Ç.
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ chart frontend –≤ namespace hipster-shop –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ
—á—Ç–æ –¥–æ—Å—Ç—É–ø –∫ UI –≤–Ω–æ–≤—å –ø–æ—è–≤–∏–ª—Å—è:

helm upgrade --install frontend kubernetes-templating/frontend --namespace hipster-shop

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 8

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart

–ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ —à–∞–±–ª–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—à chart frontend
–î–ª—è –Ω–∞—á–∞–ª–∞ –ø—Ä–æ–¥—É–º–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–∞ values.yaml
Docker –æ–±—Ä–∞–∑ –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è frontend –º–æ–∂–µ—Ç
–ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å—Å—è, –ø–æ—ç—Ç–æ–º—É –ª–æ–≥–∏—á–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –µ–≥–æ —Ç–µ–≥ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
frontend.image.tag
–í values.yaml —ç—Ç–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

image:
tag: v0.1.3

‚ùó–≠—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –º–æ–∂–µ—Ç (–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å) –±—ã—Ç—å
–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –≤ CI/CD pipeline

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 9

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart

–¢–µ–ø–µ—Ä—å –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ deployment.yaml –Ω–∞–¥–æ —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –º—ã
—Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.
–ë—ã–ª–æ:

–°—Ç–∞–ª–æ:
image: gcr.io/google-samples/microservices-demo/frontend:v0.1.3

image: gcr.io/google-samples/microservices-demo/frontend:{{ .Values.image.tag }}

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å chart –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ
–∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 10

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart

–ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º —à–∞–±–ª–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
frontend chart
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ –≤ deployment
Port, targetPort –∏ NodePort –≤ service
–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - —Ç–∏–ø —Å–µ—Ä–≤–∏—Å–∞. –ö–ª—é—á NodePort –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤
–º–∞–Ω–∏—Ñ–µ—Å—Ç–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç–∏–ø —Å–µ—Ä–≤–∏—Å–∞ - NodePort
–î—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞ –≤–∞—à –≤–∑–≥–ª—è–¥ —Å—Ç–æ–∏ —à–∞–±–ª–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å
‚ùó–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –≤ —Ñ–∞–π–ª–µ values.yaml –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ
—É–º–æ–ª—á–∞–Ω–∏—é

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 11

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart
–ö–∞–∫ –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª
values.yaml:

image:
tag: v0.1.3
replicas: 1
service:
type: NodePort
port: 80
targetPort: 8079
NodePort: 30001

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 12

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart
–¢–µ–ø–µ—Ä—å –Ω–∞—à frontend —Å—Ç–∞–ª –Ω–µ–º–Ω–æ–≥–æ –ø–æ—Ö–æ–∂ –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏–π helm
chart. –ù–µ —Å—Ç–æ–∏—Ç –∑–∞–±—ã–≤–∞—Ç—å, —á—Ç–æ –æ–Ω –≤—Å–µ –µ—â–µ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –æ–¥–Ω–æ–≥–æ
–±–æ–ª—å—à–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è hipster-shop.
–ü–æ—ç—Ç–æ–º—É –±—ã–ª–æ –±—ã –Ω–µ–ø–ª–æ—Ö–æ –≤–∫–ª—é—á–∏—Ç—å –µ–≥–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —ç—Ç–æ–≥–æ
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–î–ª—è –Ω–∞—á–∞–ª–∞, —É–¥–∞–ª–∏—Ç–µ release frontend –∏–∑ –∫–ª–∞—Å—Ç–µ—Ä–∞:

helm delete frontend -n hipster-shop

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 13

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart

–í Helm 2 —Ñ–∞–π–ª requirements.yaml —Å–æ–¥–µ—Ä–∂–∞–ª —Å–ø–∏—Å–æ–∫
–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π helm chart (–¥—Ä—É–≥–∏–µ chart). –í Helm 3 —Å–ø–∏—Å–æ–∫
–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç –æ–±—ä—è–≤–ª—è—Ç—å –≤ —Ñ–∞–π–ª–µ Chart.yaml.

–î–æ–±–∞–≤—å—Ç–µ chart frontend –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å

–û–±–Ω–æ–≤–∏–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
–ü—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ —Å—Ç–∞—Ä–æ–º —Ñ–æ—Ä–º–∞—Ç–µ, –≤—Å–µ –±—É–¥–µ—Ç
—Ä–∞–±–æ—Ç–∞—Ç—å, –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤—ã–¥–∞—Å—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ. –ü–æ–¥—Ä–æ–±–Ω–µ–µ

dependencies:
- name: frontend
version: 0.1.0
repository: "file://../frontend"

helm dep update kubernetes-templating/hipster-shop

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 14

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart

–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ kubernetes-templating/hipster-shop/charts
–ø–æ—è–≤–∏–ª—Å—è –∞—Ä—Ö–∏–≤ frontend-0.1.0.tgz —Å–æ–¥–µ—Ä–∂–∞—â–∏–π chart frontend
–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π –≤ chart hipster-shop –∫–∞–∫
–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å.
–û–±–Ω–æ–≤–∏—Ç–µ release hipster-shop –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–µ—Å—É—Ä—Å—ã frontend
–≤–Ω–æ–≤—å —Å–æ–∑–¥–∞–Ω—ã.

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 15

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart
–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –∏–∑ CI-—Å–∏—Å—Ç–µ–º—ã –º—ã –º–æ–∂–µ–º –º–µ–Ω—è—Ç—å
–ø–∞—Ä–∞–º–µ—Ç—Ä—ã helm chart, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ values.yaml.
–î–ª—è —ç—Ç–æ–≥–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª—é—á --set
–ò–∑–º–µ–Ω–∏–º NodePort –¥–ª—è frontend –≤ release, –Ω–µ –º–µ–Ω—è—è –µ–≥–æ –≤ —Å–∞–º–æ–º
chart:

helm upgrade --install hipster-shop kubernetes-templating/hipster-shop --namespace
hipster-shop --set frontend.service.NodePort=31234

–¢–∞–∫ –∫–∞–∫ –∫–∞–∫ –º—ã –º–µ–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ - –ø–µ—Ä–µ–¥
–Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —É–∫–∞–∑—ã–≤–∞–µ–º –∏–º—è (–Ω–∞–∑–≤–∞–Ω–∏–µ chart) —ç—Ç–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
–ï—Å–ª–∏ –±—ã –º—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏ chart frontend –Ω–∞–ø—Ä—è–º—É—é, —Ç–æ –∫–æ–º–∞–Ω–¥–∞ –≤—ã–≥–ª—è–¥–µ–ª–∞
–±—ã –∫–∞–∫ --set service.NodePort=31234

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 16

–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π helm chart | –ó–∞–¥–∞–Ω–∏–µ —Å–æ ‚≠ê

–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏,
–∏—Å–ø–æ–ª—å–∑—É—è community chart's.
–ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å Redis.
–†–µ–∞–ª–∏–∑—É–π—Ç–µ –∏—Ö —É—Å—Ç–∞–Ω–æ–≤–∫—É —á–µ—Ä–µ–∑ requirements.yaml –∏
–æ–±–µ—Å–ø–µ—á—å—Ç–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

4 . 17

–†–∞–±–æ—Ç–∞ —Å helm-secrets | –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
–∑–∞–¥–∞–Ω–∏–µ

–†–∞–∑–±–µ—Ä–µ–º—Å—è –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≥–∏–Ω helm-secrets. –î–ª—è —ç—Ç–æ–≥–æ
–¥–æ–±–∞–≤–∏–º –≤ Helm chart —Å–µ–∫—Ä–µ—Ç –∏ –Ω–∞—É—á–∏–º—Å—è —Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ –≤
–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ.
–ù–∞—á–Ω–µ–º —Å —Ç–æ–≥–æ, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏–º –ø–ª–∞–≥–∏–Ω –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –Ω–µ–≥–æ
–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–∑–¥–µ—Å—å –∏ –¥–∞–ª–µ–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –¥–ª—è MacOS):

brew install sops
brew install gnupg2
brew install gnu-getopt
helm plugin install https://github.com/futuresimple/helm-secrets --version 2.0.2

–í –¥–æ–º–∞—à–Ω–µ–π —Ä–∞–±–æ—Ç—ã –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PGP, –Ω–æ –Ω–∏–∫—Ç–æ –Ω–µ
–∑–∞–ø—Ä–µ—â–∞–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ
—Å KMS üòä

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

5 . 1

–†–∞–±–æ—Ç–∞ —Å helm-secrets | –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
–∑–∞–¥–∞–Ω–∏–µ

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–π PGP –∫–ª—é—á:

–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–æ–º–∞–Ω–¥–æ–π gpg -k –º–æ–∂–Ω–æ
–ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–ª—é—á –ø–æ—è–≤–∏–ª—Å—è:
gpg --full-generate-key

$ gpg -k
/Users/vegas/.gnupg/pubring.kbx
-------------------------------
pub rsa2048 2019-09-15 [SC]
B086BD636EBD989F87399DD22B929BDEC3CFE7EC
uid [ultimate] otusdemo <otusdemo@express42.com>
sub rsa2048 2019-09-15 [E]

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

5 . 2

–†–∞–±–æ—Ç–∞ —Å helm-secrets | –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
–∑–∞–¥–∞–Ω–∏–µ

–°–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π —Ñ–∞–π–ª secrets.yaml –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ kubernetes-
templating/frontend —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

–ò –ø–æ–ø—Ä–æ–±—É–µ–º –∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –µ–≥–æ:
visibleKey: hiddenValue

sops -e -i --pgp <$ID> secrets.yaml

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ - –≤–º–µ—Å—Ç–æ ID –ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ –¥–ª–∏–Ω–Ω—ã–π —Ö–µ—à, –≤ –≤—ã–≤–æ–¥–µ
–Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —ç—Ç–æ
B086BD636EBD989F87399DD22B929BDEC3CFE7EC

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

5 . 3

–†–∞–±–æ—Ç–∞ —Å helm-secrets | –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
–∑–∞–¥–∞–Ω–∏–µ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª secrets.yaml –∏–∑–º–µ–Ω–∏–ª—Å—è. –°–µ–π—á–∞—Å –µ–≥–æ
—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

visibleKey:
ENC[AES256_GCM,data:N/ZmTE2PoaFn1qI=,iv:raG0p01sjoG/bSo9LM9NbzgxKuLCI3QMMfjsT1RYvbU=,tag
:2bI3zG8++m9Fo8d85caFaw==,type:str]
sops:
kms: []
gcp_kms: []
azure_kv: []
lastmodified: '2019-09-19T12:55:33Z'
...

–ó–∞–º–µ—Ç—å—Ç–µ, —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ –æ—Å—Ç–∞–ª–∞—Å—å –ø—Ä–µ–∂–Ω–µ–π. –ú—ã –≤–∏–¥–∏–º
–∫–ª—é—á visibleKey, –Ω–æ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

5 . 4

–†–∞–±–æ—Ç–∞ —Å helm-secrets | –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
–∑–∞–¥–∞–Ω–∏–µ
–í —Ç–∞–∫–æ–º –≤–∏–¥–µ —Ñ–∞–π–ª —É–∂–µ –º–æ–∂–Ω–æ –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ Git, –Ω–æ –¥–ª—è –Ω–∞—á–∞–ª–∞ -
–Ω–∞—É—á–∏–º—Å—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞—Ç—å –µ–≥–æ.
–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –∏–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:

# helm secrets
helm secrets view secrets.yaml
# sops
sops -d secrets.yaml

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

5 . 5

–†–∞–±–æ—Ç–∞ —Å helm-secrets | –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
–∑–∞–¥–∞–Ω–∏–µ
–¢–µ–ø–µ—Ä—å –æ—Å—Ç–∞–ª–æ—Å—å –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—à–µ–≥–æ —Å–µ–∫—Ä–µ—Ç–∞
–≤ –Ω–∞—Å—Ç–æ—è—â–∏–π —Å–µ–∫—Ä–µ—Ç kubernetes –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –µ–≥–æ –≤–º–µ—Å—Ç–µ —Å
–æ—Å–Ω–æ–≤–Ω—ã–º helm chart.

–°–æ–∑–¥–∞–π—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ kubernetes-
templating/frontend/templates –µ—â–µ –æ–¥–∏–Ω —Ñ–∞–π–ª secret.yaml.

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –ø–æ—Ö–æ–∂–µ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –µ–≥–æ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç
–æ—Ç–ª–∏—á–∞—Ç—å—Å—è.
–ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ç—É–¥–∞ —Å–ª–µ–¥—É—é—â–∏–π —à–∞–±–ª–æ–Ω:

apiVersion: v1
kind: Secret
metadata:
name: secret
type: Opaque
data:
visibleKey: {{ .Values.visibleKey | b64enc | quote }}

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

5 . 6

–†–∞–±–æ—Ç–∞ —Å helm-secrets | –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
–∑–∞–¥–∞–Ω–∏–µ

–¢–µ–ø–µ—Ä—å, –µ—Å–ª–∏ –º—ã –ø–µ—Ä–µ–¥–∞–¥–∏–º –≤ helm —Ñ–∞–π–ª secrets.yaml –∫–∞–∫
values —Ñ–∞–π–ª - –ø–ª–∞–≥–∏–Ω helm-secrets –ø–æ–π–º–µ—Ç, —á—Ç–æ –µ–≥–æ –Ω–∞–¥–æ
—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞ visibleKey –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –≤
—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —à–∞–±–ª–æ–Ω —Å–µ–∫—Ä–µ—Ç–∞.
–ó–∞–ø—É—Å—Ç–∏–º —É—Å—Ç–∞–Ω–æ–≤–∫—É:

helm secrets upgrade --install frontend kubernetes-templating/frontend --namespace
hipster-shop \
-f kubernetes-templating/frontend/values.yaml \
-f kubernetes-templating/frontend/secrets.yaml

–í –ø—Ä–æ—Ü–µ—Å—Å–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ helm-secrets —Ä–∞—Å—à–∏—Ñ—Ä—É–µ—Ç –Ω–∞—à
—Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª –≤ –¥—Ä—É–≥–æ–π –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
secrets.yaml.dec, –∞ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ - —É–¥–∞–ª–∏—Ç
–µ–≥–æ –ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

5 . 7

–†–∞–±–æ—Ç–∞ —Å helm-secrets | –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ
–∑–∞–¥–∞–Ω–∏–µ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç —Å–æ–∑–¥–∞–Ω, –∏ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç
–Ω–∞—à–∏–º –æ–∂–∏–¥–∞–Ω–∏—è–º
–ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ —Å–ø–æ—Å–æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–ª–∞–≥–∏–Ω–∞ helm-secrets –≤ CI/CD
–ü—Ä–æ —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–º–Ω–∏—Ç—å, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º helm-secrets
(–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫ –æ–±–µ–∑–æ–ø–∞—Å–∏—Ç—å —Å–µ–±—è –æ—Ç –∫–æ–º–º–∏—Ç–∞ —Ñ–∞–π–ª–æ–≤ —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏,
–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–±—ã–ª –∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å)?
–ï—Å–ª–∏ –≤—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å helm-secrets —Å KMS - –æ–ø–∏—à–∏—Ç–µ
—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç—ã

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

5 . 8

–ü—Ä–æ–≤–µ—Ä–∫–∞
–ü–æ–º–µ—Å—Ç–∏—Ç–µ –≤—Å–µ –ø–æ–ª—É—á–∏–≤—à–∏–µ—Å—è helm chart's –≤ –≤–∞—à —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π
harbor –≤ –ø—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ–µ–∫—Ç.
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª kubernetes-templating/repo.sh —Å–æ —Å–ª–µ–¥—É—é—â–∏–º
—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º:

–ü–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–ª—è—Ç—å—Å—è
—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ helm
chart's:
templating/frontend
templating/hipster-shop
#!/bin/bash
helm repo add templating <–°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

6

Kubecfg

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

7 . 1

Kubecfg
–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –æ–¥–Ω–∞ –∏–∑ –∫–æ–º–∞–Ω–¥ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏—Ö —Å—Ä–∞–∑—É
–Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –Ω–∞—à–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ —Ä–µ—à–∏–ª–∞, —á—Ç–æ helm –Ω–µ
–ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –µ–µ –Ω—É–∂–¥ –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ –Ω–∞
–æ—Å–Ω–æ–≤–µ jsonnet - kubecfg.
–ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —ç—Ç–æ–π —É—Ç–∏–ª–∏—Ç—ã. –†–∞–±–æ—Ç–∞—Ç—å –±—É–¥–µ–º —Å
—Å–µ—Ä–≤–∏—Å–∞–º–∏ paymentservice –∏ shippingservice.
–î–ª—è –Ω–∞—á–∞–ª–∞ - –≤—ã–Ω–µ—Å–∏—Ç–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ service –∏

deployment –¥–ª—è —ç—Ç–∏—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞ all-hipster-
shop.yaml –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é kubernetes-templating/kubecfg

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

7 . 2

Kubecfg

–í –∏—Ç–æ–≥–µ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è —á–µ—Ç—ã—Ä–µ —Ñ–∞–π–ª–∞:

–ú–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –¥–≤—É—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ –æ—á–µ–Ω—å
–ø–æ—Ö–æ–∂–∏ –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ –∏ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–º—ã—Å–ª –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –∏–∑
–∫–∞–∫–æ–≥–æ-—Ç–æ —à–∞–±–ª–æ–Ω–∞. –ü–æ–ø—Ä–æ–±—É–µ–º —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ.
$ tree -L 1 kubecfg
kubecfg
‚îú‚îÄ‚îÄ paymentservice-deployment.yaml
‚îú‚îÄ‚îÄ paymentservice-service.yaml
‚îú‚îÄ‚îÄ shippingservice-deployment.yaml
‚îî‚îÄ‚îÄ shippingservice-service.yaml

–û–±–Ω–æ–≤–∏—Ç–µ release hipster-shop, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ
–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã paymentservice –∏ shippingservice –∏—Å—á–µ–∑–ª–∏
–∏–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –º–∞–≥–∞–∑–∏–Ω —Å—Ç–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–ø—Ä–∏
–Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É Add to Cart)

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

7 . 3

Kubecfg

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ (–¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –≤–∏–¥–µ —Å–±–æ—Ä–æ–∫ –ø–æ MacOS –∏ Linux –∏
–≤ Homebrew)

kubecfg

$ kubecfg version
kubecfg version: v0.14.0
jsonnet version: v0.14.0
client-go version: v0.0.0-master+2d32dcd

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

7 . 4

Kubecfg
Kubecfg –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ –≤ —Ñ–∞–π–ª–∞—Ö —Ñ–æ—Ä–º–∞—Ç–∞
.jsonnet –∏ –∏—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π. –ü—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞
–º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤
–ù–∞–ø–∏—à–µ–º –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å–≤–æ–π .jsonnet —Ñ–∞–π–ª - services.jsonnet.
–î–ª—è –Ω–∞—á–∞–ª–∞ –≤ —Ñ–∞–π–ª–µ –º—ã –¥–æ–ª–∂–Ω—ã —É–∫–∞–∑–∞—Ç—å libsonnet –±–∏–±–ª–∏–æ—Ç–µ–∫—É,
–∫–æ—Ç–æ—Ä—É—é –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤. –í
–¥–æ–º–∞—à–Ω–µ–π —Ä–∞–±–æ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è
–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –µ–µ:

–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

–≥–æ—Ç–æ–≤–æ–π –æ—Ç bitnami

local kube = import "https://github.com/bitnami-labs/kube-
libsonnet/raw/52ba963ca44f7a4960aeae9ee0fbee44726e481f/kube.libsonnet";

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

7 . 5

Kubecfg

–ü–µ—Ä–µ–π–¥–µ–º –∫ –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Å—Ç–∏
–û–±—â–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–≥–æ —Å–ª–µ–¥—É—é—â–∞—è:
1. –ü–∏—à–µ–º –æ–±—â–∏–π –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ , –≤–∫–ª—é—á–∞—é—â–∏–π –æ–ø–∏—Å–∞–Ω–∏–µ
service –∏ deployment
2. –æ—Ç –Ω–µ–≥–æ, —É–∫–∞–∑—ã–≤–∞—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö
—Å–µ—Ä–≤–∏—Å–æ–≤

—à–∞–±–ª–æ–Ω

–ù–∞—Å–ª–µ–¥—É–µ–º—Å—è

‚ùó –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –Ω–µ –∑–∞–≥–ª—è–¥—ã–≤–∞—Ç—å –≤ —Å–Ω–∏–ø–ø–µ—Ç—ã –≤ —Å—Å—ã–ª–∫–∞—Ö –∏
–ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å jsonnet
–í –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –≥–æ—Ç–æ–≤—ã–π
services.jsonnet, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ
—Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

7 . 6

Kubecfg

–ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

–ò —É—Å—Ç–∞–Ω–æ–≤–∏–º –∏—Ö:

–ß–µ—Ä–µ–∑ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –º–∞–≥–∞–∑–∏–Ω —Å–Ω–æ–≤–∞ –¥–æ–ª–∂–µ–Ω –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –∏
—Ç–æ–≤–∞—Ä—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
kubecfg show services.jsonnet

kubecfg update services.jsonnet --namespace hipster-shop

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

7 . 7

–ó–∞–¥–∞–Ω–∏–µ —Å–æ ‚≠ê

–í—ã–±–µ—Ä–∏—Ç–µ –µ—â–µ –æ–¥–∏–Ω –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –∏–∑ —Å–æ—Å—Ç–∞–≤–∞ hipster-shop –∏
–ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–µ —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ jsonnet,
–Ω–∞–ø—Ä–∏–º–µ—Ä –∏–ª–∏
–ü—Ä–∏–ª–æ–∂–∏—Ç–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
kubernetes-templating/jsonnet –∏ –æ–ø–∏—à–∏—Ç–µ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É –∏
–ø–æ—Ä—è–¥–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

Kapitan qbec

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

7 . 8

Kustomize

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

8 . 1

Kustomize | –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ

–û—Ç–ø–∏–ª–∏—Ç–µ –µ—â–µ –æ–¥–∏–Ω (–ª—é–±–æ–π) –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –∏–∑ all-hipster-
shop.yaml.yaml –∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∑–∞–π–º–∏—Ç–µ—Å—å –µ–≥–æ kustom–∏–∑–∞—Ü–∏–µ–π.

–í –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –Ω–∞
–¥–≤–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è - hipster-shop (namespace hipster-shop) –∏
hipster-shop-prod (namespace hipster-shop-prod) –∏–∑ –æ–¥–Ω–∏—Ö
–º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ deployment –∏ service.
–û–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –æ—Ç–ª–∏—á–∞—Ç—å—Å—è:
–ù–∞–±–æ—Ä–æ–º labels –≤–æ –≤—Å–µ—Ö –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞—Ö
–ü—Ä–µ—Ñ–∏–∫—Å–æ–º –Ω–∞–∑–≤–∞–Ω–∏–π —Ä–µ—Å—É—Ä—Å–æ–≤
–í–∞—à –≤–∞—Ä–∏–∞–Ω—Ç...

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

8 . 2

Kustomize | –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∞—à–µ–π —Ä–∞–±–æ—Ç—ã –ø–æ–º–µ—Å—Ç–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é kubernetes-
templating/kustomize. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

–¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

kubectl apply -k kubernetes-templating/kustomize/overrides/<–ù–∞–∑–≤–∞–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è>/

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

8 . 3

–ü—Ä–æ–≤–µ—Ä–∫–∞ –î–ó
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∞—à–µ–π —Ä–∞–±–æ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –≤–µ—Ç–∫—É
kubernetes-templating –≤–∞—à–µ–≥–æ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
<YOUR_LOGIN>_platform
–í README.md —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–Ω–µ—Å—Ç–∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ —Å–¥–µ–ª–∞–Ω–æ
–°–æ–∑–¥–∞–π—Ç–µ Pull Request –∫ –≤–µ—Ç–∫–µ master (–æ–ø–∏—Å–∞–Ω–∏–µ PR —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
–∑–∞–ø–æ–ª–Ω—è—Ç—å)
–î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–∫—É kubernetes-templating –∫ –≤–∞—à–µ–º—É PR

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

9 . 1

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ü—Ä–æ–≤–µ—Ä–∫–∞ –î–ó
–î–∞–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è –≤ –ø–æ–ª—É–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º
—Ä–µ–∂–∏–º–µ. –ù–µ –ø—É–≥–∞–π—Ç–µ—Å—å —Ç–æ–≥–æ, —á—Ç–æ —Ç–µ—Å—Ç—ã –≤ –∏—Ç–æ–≥–µ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è
–Ω–µ—É—Å–ø–µ—à–Ω–æ.
–ü—Ä–∏ —ç—Ç–æ–º —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –ª–æ–≥ Travis, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏
–æ–Ω–∏ –¥–æ—à–ª–∏ –¥–æ "–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ—à–∏–±–∫–∏"

, –≥–æ–≤–æ—Ä—è—â–µ–π –æ —Ç–æ–º, —á—Ç–æ

–¥–∞–ª—å–Ω–µ–π—à–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è –≤—Ä—É—á–Ω—É—é.

–ò–∑–±–∞–≤–ª—è–µ–º –±–∏–∑–Ω–µ—Å –æ—Ç –ò–¢-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

9 . 2